---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import { useTranslations, getLangFromUrl } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={`${t('nav.contact')} | ELARA.VO`}>
    <div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">
        <Navigation />
        
        <main class="flex-grow flex flex-col lg:flex-row">
            <!-- Visual Section (Hero Image) -->
            <section class="lg:w-1/2 min-h-[40vh] lg:min-h-screen relative overflow-hidden group">
                <div class="absolute inset-0 bg-primary/10 mix-blend-multiply z-10 transition-opacity duration-700 opacity-0 group-hover:opacity-100"></div>
                <!-- Using the user provided image -->
                <div class="w-full h-full bg-center bg-no-repeat bg-cover transition-transform duration-1000 group-hover:scale-105" 
                     role="img"
                     aria-label="Atmospheric photo of a sunlit artist studio with canvases" 
                     style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCU3INrdbsNaM3rSfBh8zRKoM5hmELdN-MdJVoCrMxamSGr30XDJRgcz0OkjSCmuJs-wvhTlTKQ2QhR_R-I6FKjG8F5FEW424K1uNtrMJf3cPv53NQb-62iEwbBWu4dgLc0-KQYqmNjJ9IIZYDpWfLPfescfBQ5o2lAu8m76vTb9pXmIF7jxaei0Pz4P19remvTDXMFbi3bLE8wk9Gm8n_aZ-uUT3SULesdU_8Vc38NHpLQddipwB5Y9e6pvREyfeI2-QbD-Z_HCTx5");'>
                </div>
                <div class="absolute bottom-10 left-10 z-20 hidden lg:block">
                    <p class="text-white/70 text-xs font-medium uppercase tracking-[0.3em] mb-2">Studio Sessions</p>
                    <p class="text-white text-2xl font-light italic">"Art is the only way to run away without leaving home."</p>
                </div>
            </section>

            <!-- Form Section -->
            <section class="lg:w-1/2 px-8 py-24 lg:px-24 flex flex-col justify-center bg-background-light dark:bg-background-dark min-h-screen">
                <div class="max-w-[500px] mx-auto lg:mx-0 w-full">
                    <h1 class="text-5xl lg:text-6xl font-display font-light mb-6 tracking-tight">
                        <span class="text-primary italic">{t('contact.collaborate')}</span>
                    </h1>
                    <p class="text-[#5a4e97] dark:text-[#a09cc0] text-lg font-light leading-relaxed mb-12">
                        {t('contact.collaborate_desc')}
                    </p>

                    <!-- Minimalist Contact Form -->
                    <form class="space-y-10">
                        <div class="relative">
                            <input class="form-input-minimal w-full text-lg py-4 placeholder:text-transparent peer focus:ring-0 text-slate-900 dark:text-white" id="name" placeholder="Name" type="text"/>
                            <label class="absolute left-0 top-4 text-[#5a4e97] dark:text-[#a09cc0] text-sm uppercase tracking-widest transition-all peer-placeholder-shown:text-lg peer-placeholder-shown:top-4 peer-focus:-top-4 peer-focus:text-xs peer-focus:text-primary cursor-text" for="name">{t('contact.form.fullname')}</label>
                        </div>
                        <div class="relative">
                            <input class="form-input-minimal w-full text-lg py-4 placeholder:text-transparent peer focus:ring-0 text-slate-900 dark:text-white" id="email" placeholder="Email" type="email"/>
                            <label class="absolute left-0 top-4 text-[#5a4e97] dark:text-[#a09cc0] text-sm uppercase tracking-widest transition-all peer-placeholder-shown:text-lg peer-placeholder-shown:top-4 peer-focus:-top-4 peer-focus:text-xs peer-focus:text-primary cursor-text" for="email">{t('contact.form.email')}</label>
                        </div>
                        <div class="relative">
                            <textarea class="form-input-minimal w-full text-lg py-4 placeholder:text-transparent peer focus:ring-0 resize-none text-slate-900 dark:text-white" id="message" placeholder="Message" rows="1"></textarea>
                            <label class="absolute left-0 top-4 text-[#5a4e97] dark:text-[#a09cc0] text-sm uppercase tracking-widest transition-all peer-placeholder-shown:text-lg peer-placeholder-shown:top-4 peer-focus:-top-4 peer-focus:text-xs peer-focus:text-primary cursor-text" for="message">{t('contact.form.message')}</label>
                        </div>
                        <div class="pt-6">
                            <button class="group flex items-center gap-4 bg-primary text-white px-10 py-5 rounded-full font-bold uppercase tracking-[0.2em] text-xs hover:shadow-xl hover:shadow-primary/20 transition-all active:scale-95" type="submit">
                                {t('contact.form.send')}
                                <span class="material-symbols-outlined text-sm transition-transform group-hover:translate-x-1">arrow_forward</span>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Footer Details -->
                <div class="mt-20 grid grid-cols-1 sm:grid-cols-2 gap-10 pt-10 border-t border-[#e9e7f3] dark:border-white/10 max-w-[500px] mx-auto lg:mx-0 w-full">
                    <div>
                        <h4 class="text-[10px] uppercase tracking-[0.3em] font-bold text-primary mb-4">{t('contact.info')}</h4>
                        <p class="text-sm font-medium mb-1">hello@elaravo.com</p>
                        <p class="text-sm text-[#5a4e97] dark:text-[#a09cc0]">+420 777 123 456</p>
                    </div>
                    <div>
                        <h4 class="text-[10px] uppercase tracking-[0.3em] font-bold text-primary mb-4">{t('contact.location')}</h4>
                        <p class="text-sm font-medium mb-1">Letenské náměstí 4</p>
                        <p class="text-sm text-[#5a4e97] dark:text-[#a09cc0]">Praha 7, CZ</p>
                    </div>
                </div>
            </section>
        </main>
    </div>
</Layout>

<style>
    .form-input-minimal {
        border: none;
        border-bottom: 1px solid #d4d0e7;
        background: transparent;
        padding-left: 0;
        padding-right: 0;
        outline: none;
    }
    :global(.dark) .form-input-minimal {
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    }
    .form-input-minimal:focus {
        box-shadow: none;
        border-bottom: 2px solid var(--color-primary);
    }
</style>
